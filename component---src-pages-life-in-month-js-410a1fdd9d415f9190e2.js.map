{"version":3,"file":"component---src-pages-life-in-month-js-410a1fdd9d415f9190e2.js","mappings":"iOAQA,MAAMA,GAAYC,E,OAAAA,IAAWC,IAAK,CAChCC,OAAQ,CACNC,QAAS,EACTC,OAAQ,EACRC,OAAQ,iDACRC,UAAW,OAEXC,QAAS,OACTC,SAAU,OACVC,OAAQ,MACRC,aAAc,cAEhBC,kBAAmB,CACjBC,UAAW,SACXC,gBAAiB,UACjBC,aAAc,MACdC,OAAQ,sBACRC,MAAO,OACPZ,OAAQ,MACR,UAAW,CACTS,gBAAiB,wBACjB,qBAAsB,gCACtB,iBAAkB,gCAClBI,WAAY,gCACZ,qBAAsB,2BACtB,iBAAkB,2BAClBA,WAAY,6BAGhBC,kBAAmB,CACjBN,UAAW,SACXC,gBAAiB,UACjBC,aAAc,MACdC,OAAQ,sBACRC,MAAO,OACPZ,OAAQ,MACR,UAAW,CACTS,gBAAiB,wBACjB,qBAAsB,gCACtB,iBAAkB,gCAClBI,WAAY,gCACZ,qBAAsB,2BACtB,iBAAkB,2BAClBA,WAAY,iCAKH,SAASE,EAAYC,GAClC,MAAMC,EAAUtB,IACVuB,GAAYC,EAAAA,EAAAA,QAAO,OACnB,EAACC,EAAY,EAACC,IAAkBC,EAAAA,EAAAA,UAAS,IACzC,EAACC,EAAU,EAACC,IAAgBF,EAAAA,EAAAA,UAAS,IAErCG,EAAcC,MAAMC,KACxB,CACEC,OAAQ,MAEV,CAACC,EAAGC,IAAMA,EAAI,IAGVC,EACgC,KAAnC,IAAIC,MAAOC,cAAgB,OAAa,IAAID,MAAOE,WAAa,GAEnEC,EAAAA,EAAAA,YAAU,KACR,GAAIjB,EAAUkB,QAAS,CACrB,IAAIC,EAAYC,KAAKC,KAClBrB,EAAUkB,QAAQI,YAActB,EAAUkB,QAAQK,aAAgB,KAGrEC,QAAQC,IAAIzB,EAAUkB,QAAQI,aAC9BE,QAAQC,IAAIzB,EAAUkB,QAAQK,cAE9B,IAAIG,EAAIN,KAAKO,MAAM3B,EAAUkB,QAAQI,YAAcH,GACnDA,EAAYnB,EAAUkB,QAAQI,aAAeI,EAAI,GAEjDvB,EAAegB,EACjB,IACC,CAACnB,EAAUkB,UAcd,OACEU,EAAAA,cAACC,EAAAA,EAAM,KACLD,EAAAA,cAACE,EAAAA,EAAG,CAACC,MAAM,kBAQXH,EAAAA,cAACI,EAAAA,EAAS,CAACC,SAAU,MACnBL,EAAAA,cAACM,EAAAA,EAAI,CACHC,WAAS,EAETC,eAAe,UAGfR,EAAAA,cAACM,EAAAA,EAAI,CAACG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,IAAKzC,GAEpC4B,EAAAA,cAAA,MAAIc,UAAW3C,EAAQnB,QACpB2B,EAAYoC,KAAIC,GAEbhB,EAAAA,cAAA,MACEiB,MAAO,CACL/D,OAAQ,MACRgE,MAAO5C,EAAc,KACrBnB,OAAQmB,EAAc,OAIxB0B,EAAAA,cAACmB,EAAAA,EAAK,CACJC,UAAW,EACXN,UACEE,GAAK/B,EACDd,EAAQV,kBACRU,EAAQH,kBAEdiD,MAAO,CACLC,MAAO5C,EAAc,EAAI,KACzBnB,OAAQmB,EAAc,EAAI,MAE5B+C,YAAaA,IArDRC,KACvB,IAAIC,EAAY/B,KAAKO,MAAMuB,EAAQ,GAAK,MACpCE,EAAaF,EAAQ,GAEN,IAAfE,IACFD,GAAwB,EACxBC,EAAa,IAGf9C,EAAa6C,EAAY,MAAQC,EAAW,EA4CPC,CAAiBT,GACpCU,aAAcA,IAAMhD,EAAa,WAO7CsB,EAAAA,cAACM,EAAAA,EAAI,CAACG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACvBX,EAAAA,cAAA,KACIiB,MAAO,CAAE/D,OAAQ,MAAOQ,UAAW,SAAUiE,SAAU,UAEtDlD,MAOf,C","sources":["webpack://tian-site/./src/pages/life-in-month.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\"\nimport { Link } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { Container, Grid, Paper, Box } from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles(theme => ({\n  pannel: {\n    padding: 0,\n    margin: 0,\n    height: \"calc(100vh - 64px - 16px - 49px - 38px - 31px)\",\n    listStyle: \"none\",\n    // border: \"0.1px solid silver\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    rowGap: \"0px\",\n    alignContent: \"flex-start\",\n  },\n  monthBlock_passed: {\n    textAlign: \"center\",\n    backgroundColor: \"#cfd8dc\",\n    borderRadius: \"2px\",\n    border: \"0px solid lightgrey\",\n    color: \"grey\",\n    margin: \"0px\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(26, 32, 39, 0.7)\",\n      \"-webkit-transition\": \"background-color 100ms linear\",\n      \"-ms-transition\": \"background-color 100ms linear\",\n      transition: \"background-color 100ms linear\",\n      \"-webkit-transition\": \"font-weight 100ms linear\",\n      \"-ms-transition\": \"font-weight 100ms linear\",\n      transition: \"font-weight 100ms linear\",\n    },\n  },\n  monthBlock_future: {\n    textAlign: \"center\",\n    backgroundColor: \"#f5f5f5\",\n    borderRadius: \"2px\",\n    border: \"0px solid lightgrey\",\n    color: \"grey\",\n    margin: \"0px\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(26, 32, 39, 0.7)\",\n      \"-webkit-transition\": \"background-color 100ms linear\",\n      \"-ms-transition\": \"background-color 100ms linear\",\n      transition: \"background-color 100ms linear\",\n      \"-webkit-transition\": \"font-weight 100ms linear\",\n      \"-ms-transition\": \"font-weight 100ms linear\",\n      transition: \"font-weight 100ms linear\",\n    },\n  },\n}))\n\nexport default function LifeInMonth(props) {\n  const classes = useStyles()\n  const pannelRef = useRef(null)\n  const [squreLength, setSqureLength] = useState(0)\n  const [hoverText, setHoverText] = useState(\"\")\n\n  const monthBlocks = Array.from(\n    {\n      length: 960,\n    },\n    (v, k) => k + 1\n  )\n\n  const currentMonth =\n    (new Date().getFullYear() - 1991) * 12 + new Date().getMonth() + 1\n\n  useEffect(() => {\n    if (pannelRef.current) {\n      let tmpLength = Math.sqrt(\n        (pannelRef.current.offsetWidth * pannelRef.current.offsetHeight) / 960\n      )\n\n      console.log(pannelRef.current.offsetWidth)\n      console.log(pannelRef.current.offsetHeight)\n      \n      let A = Math.floor(pannelRef.current.offsetWidth / tmpLength)\n      tmpLength = pannelRef.current.offsetWidth / (A + 2)\n\n      setSqureLength(tmpLength)\n    }\n  }, [pannelRef.current])\n\n  const handleBlockHover = index => {\n    let hoverYear = Math.floor(index / 12 + 1991)\n    let hoverMonth = index % 12\n\n    if (hoverMonth === 0) {\n      hoverYear = hoverYear - 1\n      hoverMonth = 12\n    }\n\n    setHoverText(hoverYear + \" - \" + hoverMonth)\n  }\n\n  return (\n    <Layout>\n      <SEO title=\"Life in Month\" />\n      {/* <p\n        style={{ textAlign: \"center\", fontSize: \"0.75em\", marginBottom: \"1em\" }}\n      >\n        {\" \"}\n        Life in Month\n      </p> */}\n\n      <Container maxWidth={\"xl\"}>\n        <Grid\n          container\n          // direction=\"row\"\n          justifyContent=\"center\"\n          // alignItems=\"center\"\n        >\n          <Grid item xs={12} sm={8} md={6} ref={pannelRef}>\n\n            <ul className={classes.pannel}>\n              {monthBlocks.map(m => {\n                return (\n                  <li\n                    style={{\n                      margin: \"0px\",\n                      width: squreLength + \"px\",\n                      height: squreLength + \"px\",\n                      // border: \"1px solid lightgrey\",\n                    }}\n                  >\n                    <Paper\n                      elevation={0}\n                      className={\n                        m <= currentMonth\n                          ? classes.monthBlock_passed\n                          : classes.monthBlock_future\n                      }\n                      style={{\n                        width: squreLength - 2 + \"px\",\n                        height: squreLength - 2 + \"px\",\n                      }}\n                      onMouseOver={() => handleBlockHover(m)}\n                      onMouseLeave={() => setHoverText(\"\")}\n                    ></Paper>\n                  </li>\n                )\n              })}\n            </ul>\n          </Grid>\n          <Grid item xs={12} sm={2} >\n          <p\n              style={{ margin: \"1em\", textAlign: \"center\", fontSize: \"0.8em\" }}\n            >\n              {hoverText}\n            </p>\n            </Grid>\n        </Grid>\n      </Container>\n    </Layout>\n  )\n}\n"],"names":["useStyles","makeStyles","theme","pannel","padding","margin","height","listStyle","display","flexWrap","rowGap","alignContent","monthBlock_passed","textAlign","backgroundColor","borderRadius","border","color","transition","monthBlock_future","LifeInMonth","props","classes","pannelRef","useRef","squreLength","setSqureLength","useState","hoverText","setHoverText","monthBlocks","Array","from","length","v","k","currentMonth","Date","getFullYear","getMonth","useEffect","current","tmpLength","Math","sqrt","offsetWidth","offsetHeight","console","log","A","floor","React","Layout","SEO","title","Container","maxWidth","Grid","container","justifyContent","item","xs","sm","md","ref","className","map","m","style","width","Paper","elevation","onMouseOver","index","hoverYear","hoverMonth","handleBlockHover","onMouseLeave","fontSize"],"sourceRoot":""}