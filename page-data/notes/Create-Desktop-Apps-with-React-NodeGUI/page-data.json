{"componentChunkName":"component---src-templates-note-template-js","path":"/notes/Create-Desktop-Apps-with-React-NodeGUI","result":{"data":{"markdownRemark":{"html":"<p>So my task here is to create a cross-platform apps, which means I hope I just need to write the code once, then the created app could be used on Mac, Windows, and Linux. Since I am only good at React, so I start searching possible solutions to create cross-platform Apps with React. There are two options looks appearing to me: <a href=\"https://www.electronjs.org/\">Electron</a> and <a href=\"https://react.nodegui.org/\">React NodeGUI</a>.</p>\n<p>Electron has proved itself for years, there are many cool Apps are build on it, like Slack/VScode. The second one (React NodeGUI) is a new tool, which claim it build native Apps, compared with Hybrid ones from Electron. However, on the home page, React NodeGUI also claimed that it's more suitable for simple small project, while electron is stil more suitable for big projects. Today I took some time to try the Hello World Demo for React NodeGUI.</p>\n<h2>1. Start the project</h2>\n<p>Following the suggestion given on the quick start page. I created an app with below code:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">create-react-app --template react-nodegui rn-helloworld</code></pre></div>\n<p>It tooks sometime to finish above code. My node version is 14.15.0, and npm version is 7.5.2. And my Mac is quite good, so not sure how long it will take for others to create the project. After creation. I navigate into the folder. Try to start the project, <strong>Note that there to start the development node, based on my test, you need to start with two commands at the same time, which means you better have two terminals openned at the same time</strong>. The first terminal run command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> run dev</code></pre></div>\n<p>After the first terminal finished at certain stage (don't close it). Run below command in the second terminal window:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> start</code></pre></div>\n<p>In below example, I openned two terminal and after running above two code separately, the App started nicely.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/625fc24309fc8683af7c0ed5d9abb1bb/be460/figure1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.80000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAADF0lEQVQozx2T204bZxSF5ymqqhX22DP22ICxjc14ZsBnG+xiDMbGB2IgEA5JaGjT9qo3vehNqj5Bn6D0pqh5kpYSknJ2bKKGUKnqC3zdcLGk0R5pae21v1/JF0ukClWs5AxT2Vk8SR8fmx/hcqsiN+l0mmQyhWXb5HJ5EgkT04xjmTZ23CEWixOfmGDCNOVfAiWVzVGeq5EplIiaDt6ogSfqQ/P70UXReJzRsTE2d57w/Y8/8fT5t+w9/47W7irT20XmGzXKn83y1Tdf8+LFDyjJdIp0Nk1xukAqkyQYHMbj0VE1DY+u4fJ4GFJV2g86rG3usvJoi6dffMniZpvK4wqztTkKxWkarRZr6+sok8mkGGVJ53KSJibJNFTdg1vz4vJ68Pr0e+NGp8H69i6dtYcsr25Q6dSobsxTmpslm89Ta9Tprq6ilMolZisV6adAIDjCkMuNput4xUQ3fPgNWV3SVqpVHj7a5PHu56JndDdWaa61WO4u0+x0mF+s0Viqo+h+A2vKJpoOEzANjLhOyAkSTUSI3fU3PsKIzKdLM+ztPePq8pTj18cc/XnE4e9/0Lu64K+TEx6sdKlWKyhDmovAaAC34WZId6EOq/gclbA9xlg4SsgMEcoHsCYdOcwO5+cXvHn9hl6vd6/rQV9m59SXlsgXCyihVJCQPYovrmGYGgHHhz7uxQgZ+ANynICKIVe3xXBre/PeoD+45uzsjMvLS67fveP09JR2p8VMaRqlMjdHd2WZeneBcr1IqZbEKThYjiVsRrAyMSLxMLbUsrWzzYf3f/PvzXtuelfc9N/y3z8fpIYLSdgQUooodjJBOuMwmTGJTESJjEdJTFrEBeA7BhNWhKgdxJmyxHCL41evODo85FwS9iThoN/nRDq8u3ImlxWwC7a8lDRmwmYqFSaWHcYY8+MPaniDwqBHRfWq94l3nuwwGAxk1Svp7y19Mbu9vb2f1ZtNQS+DUp2fp9ls0BAtLpZZaFskymIalqfnH+IT16cCt1tWdmh12hwcHPCraH9/n/1f9nn58jf5/pkFATxXyPI/pHHsDgYlVrUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"React NodeGUI Demo\"\n        title=\"React NodeGUI Demo\"\n        src=\"/static/625fc24309fc8683af7c0ed5d9abb1bb/00d43/figure1.png\"\n        srcset=\"/static/625fc24309fc8683af7c0ed5d9abb1bb/63868/figure1.png 250w,\n/static/625fc24309fc8683af7c0ed5d9abb1bb/0b533/figure1.png 500w,\n/static/625fc24309fc8683af7c0ed5d9abb1bb/00d43/figure1.png 1000w,\n/static/625fc24309fc8683af7c0ed5d9abb1bb/aa440/figure1.png 1500w,\n/static/625fc24309fc8683af7c0ed5d9abb1bb/be460/figure1.png 1645w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>2. Packing into Apps</h2>\n<p>But I soon encountered problem, when I was trying to pack Apps. According two the official manual, I can use nodegui/packer to create apps after development. <strong>nodegui-packer can create corresponding apps for each system, instead of create 3 apps all at once.</strong> It means, if I finish the coding, I need to set up the development env on Mac first, then the nodegui-packer will create the Apps for Mac for me. Then I need to shift the env to Linux, run the same thing again, the nodegui-packer will them create the Linux version app for me. Finally, I need to do the same for Windows. It means I need to have at least 3 dev environment everytime I want to build the cross-platfrom Apps. Well...it's not exactly what I though, but some what acceptable, because we need machine to test our release verison Apps right?</p>\n<p>However, I then encounter problem as the verison of key packages are too old for packing.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rn-helloworld\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"private\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@babel/core\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.7.7\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@babel/preset-env\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.7.7\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@babel/preset-react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.7.4\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@babel/preset-typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.7.7\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@nodegui/nodegui\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.12.1\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// outdated</span>\n    <span class=\"token property\">\"@nodegui/react-nodegui\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.4.0\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// outdated</span>\n    <span class=\"token property\">\"@types/node\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^12.12.22\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@types/react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.9.17\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@types/webpack-env\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.14.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"babel-loader\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^8.0.6\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"clean-webpack-plugin\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"file-loader\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^5.0.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"fork-ts-checker-webpack-plugin\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.1.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"native-addon-loader\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.0.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"open\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.12.0\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// outdated</span>\n    <span class=\"token property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-scripts\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.7.4\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"webpack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.41.4\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"webpack-cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.3.10\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>For example, the latest nodegui-packer requires the @nodegui/nodegui verison should be above 0.15, but the starter repo is still using 0.12.1 version, which is clearly outdated. The result is when I was trying the nodegui-packer command, it's totally not working and can't be installed into the proejct. I personally think the starter code should be updated a bit.</p>\n<p>So I updated some packages version, I update them because nodegui-packer requires the version of nodegui, and version of nodegui requires react 17, so I have to at least update them, not sure if there are more I should update: </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rn-helloworld\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"private\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    ...\n    <span class=\"token property\">\"@nodegui/nodegui\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.30.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@nodegui/react-nodegui\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.12.0\"</span><span class=\"token punctuation\">,</span>\n    ...\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.2\"</span><span class=\"token punctuation\">,</span>\n    ...\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>Then I deleted the yarn.lock and node_modules, then rerun <code class=\"language-text\">npm install --force</code>. Then finally I can install the nodegui-packer into the project:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev @nodegui/packer</code></pre></div>\n<p>Then by running below two code, I can generate the Apps for Mac version, the fist code seems just created a folder for app location:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx nodegui-packer --init helloworld</code></pre></div>\n<p>Then everytime I want to rebuild the app, I run below code:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> run build\nnpx nodegui-packer --pack ./dist</code></pre></div>\n<p>Then the created app would be located in rn-helloworld/deploy/darwin/build.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/625fc24309fc8683af7c0ed5d9abb1bb/be460/figure2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.80000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAADF0lEQVQozx2T204bZxSF5ymqqhX22DP22ICxjc14ZsBnG+xiDMbGB2IgEA5JaGjT9qo3vehNqj5Bn6D0pqh5kpYSknJ2bKKGUKnqC3zdcLGk0R5pae21v1/JF0ukClWs5AxT2Vk8SR8fmx/hcqsiN+l0mmQyhWXb5HJ5EgkT04xjmTZ23CEWixOfmGDCNOVfAiWVzVGeq5EplIiaDt6ogSfqQ/P70UXReJzRsTE2d57w/Y8/8fT5t+w9/47W7irT20XmGzXKn83y1Tdf8+LFDyjJdIp0Nk1xukAqkyQYHMbj0VE1DY+u4fJ4GFJV2g86rG3usvJoi6dffMniZpvK4wqztTkKxWkarRZr6+sok8mkGGVJ53KSJibJNFTdg1vz4vJ68Pr0e+NGp8H69i6dtYcsr25Q6dSobsxTmpslm89Ta9Tprq6ilMolZisV6adAIDjCkMuNput4xUQ3fPgNWV3SVqpVHj7a5PHu56JndDdWaa61WO4u0+x0mF+s0Viqo+h+A2vKJpoOEzANjLhOyAkSTUSI3fU3PsKIzKdLM+ztPePq8pTj18cc/XnE4e9/0Lu64K+TEx6sdKlWKyhDmovAaAC34WZId6EOq/gclbA9xlg4SsgMEcoHsCYdOcwO5+cXvHn9hl6vd6/rQV9m59SXlsgXCyihVJCQPYovrmGYGgHHhz7uxQgZ+ANynICKIVe3xXBre/PeoD+45uzsjMvLS67fveP09JR2p8VMaRqlMjdHd2WZeneBcr1IqZbEKThYjiVsRrAyMSLxMLbUsrWzzYf3f/PvzXtuelfc9N/y3z8fpIYLSdgQUooodjJBOuMwmTGJTESJjEdJTFrEBeA7BhNWhKgdxJmyxHCL41evODo85FwS9iThoN/nRDq8u3ImlxWwC7a8lDRmwmYqFSaWHcYY8+MPaniDwqBHRfWq94l3nuwwGAxk1Svp7y19Mbu9vb2f1ZtNQS+DUp2fp9ls0BAtLpZZaFskymIalqfnH+IT16cCt1tWdmh12hwcHPCraH9/n/1f9nn58jf5/pkFATxXyPI/pHHsDgYlVrUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"React NodeGUI Mac App\"\n        title=\"React NodeGUI Mac App\"\n        src=\"/static/625fc24309fc8683af7c0ed5d9abb1bb/00d43/figure2.png\"\n        srcset=\"/static/625fc24309fc8683af7c0ed5d9abb1bb/63868/figure2.png 250w,\n/static/625fc24309fc8683af7c0ed5d9abb1bb/0b533/figure2.png 500w,\n/static/625fc24309fc8683af7c0ed5d9abb1bb/00d43/figure2.png 1000w,\n/static/625fc24309fc8683af7c0ed5d9abb1bb/aa440/figure2.png 1500w,\n/static/625fc24309fc8683af7c0ed5d9abb1bb/be460/figure2.png 1645w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Note that the size of the created app is 64MB, which is not as small as I expected...</p>\n<h2>Summary</h2>\n<p>The demo code of React NodeGUI works for me, however it seems some packages in the official demo code is already outdated, I don't know if there is enough support for this project. Also though it claims it create native apps, but the size of App is still big. I think I will use electron for development.</p>","frontmatter":{"date":"April 24, 2021","slug":"/notes/Create-Desktop-Apps-with-React-NodeGUI","title":"Create Desktop Apps with React NodeGUI","abstract":"Recently I want to create a cross-platform Apps, since I only know React, so I am trying to find some possible solutions. Like Electron and React NodeGUI. Today is my first try for React NodeGUI, there are indeed some tricky part behind the start code."}}},"pageContext":{"slug":"/notes/Create-Desktop-Apps-with-React-NodeGUI"}}}