{
    "componentChunkName": "component---src-templates-note-template-js",
    "path": "/notes/Complex-ggplot2:-Line-Plot",
    "result": {"data":{"markdownRemark":{"html":"<h2>1. Line plots with groups and annotation</h2>\n<p>In below code, there are two data frame to prepare, <code class=\"language-text\">df</code> and <code class=\"language-text\">pValues</code>. The <code class=\"language-text\">pValues</code> contains annotation I want to label on each figure. And all figures are separated by <code class=\"language-text\">facet_wrap</code>.</p>\n<p>The <code class=\"language-text\">Days</code> column in pValues data.frame is a must, however, it just need to randomly assign a value in <code class=\"language-text\">Days</code> column in df. The <code class=\"language-text\">newGroup</code> need to be matched between two data.frame.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token operator\">></span> head<span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span>\n                  discount cumNumber cumFraction           group   Days Item\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">1</span>        <span class=\"token number\">1</span>         <span class=\"token number\">1</span>  <span class=\"token number\">0.01219512</span> book<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days <span class=\"token number\">10</span>Days book\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">2</span>        <span class=\"token number\">2</span>         <span class=\"token number\">1</span>  <span class=\"token number\">0.01219512</span> book<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days <span class=\"token number\">10</span>Days book\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">3</span>        <span class=\"token number\">3</span>         <span class=\"token number\">4</span>  <span class=\"token number\">0.04878049</span> book<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days <span class=\"token number\">10</span>Days book\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">4</span>        <span class=\"token number\">4</span>        <span class=\"token number\">10</span>  <span class=\"token number\">0.12195122</span> book<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days <span class=\"token number\">10</span>Days book\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">5</span>        <span class=\"token number\">5</span>        <span class=\"token number\">16</span>  <span class=\"token number\">0.19512195</span> book<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days <span class=\"token number\">10</span>Days book\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">6</span>        <span class=\"token number\">6</span>        <span class=\"token number\">17</span>  <span class=\"token number\">0.20731707</span> book<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days <span class=\"token number\">10</span>Days book\n                  Price newGroup\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">1</span>   £<span class=\"token number\">10</span> book £<span class=\"token number\">10</span>\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">2</span>   £<span class=\"token number\">10</span> book £<span class=\"token number\">10</span>\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">3</span>   £<span class=\"token number\">10</span> book £<span class=\"token number\">10</span>\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">4</span>   £<span class=\"token number\">10</span> book £<span class=\"token number\">10</span>\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">5</span>   £<span class=\"token number\">10</span> book £<span class=\"token number\">10</span>\nbook<span class=\"token operator\">-</span>£<span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">10</span>Days.<span class=\"token number\">6</span>   £<span class=\"token number\">10</span> book £<span class=\"token number\">10</span>\n<span class=\"token operator\">></span>\n<span class=\"token operator\">></span> pValues\n              label       showPvalue  x    y          newGroup  Days\n<span class=\"token number\">1</span>          book £<span class=\"token number\">10</span> P value<span class=\"token operator\">=</span><span class=\"token number\">1.16e-16</span> <span class=\"token number\">30</span> <span class=\"token number\">0.25</span>          book £<span class=\"token number\">10</span> <span class=\"token number\">5</span>Days\n<span class=\"token number\">2</span>          book £<span class=\"token number\">30</span> P value<span class=\"token operator\">=</span><span class=\"token number\">4.71e-19</span> <span class=\"token number\">30</span> <span class=\"token number\">0.25</span>          book £<span class=\"token number\">30</span> <span class=\"token number\">5</span>Days\n<span class=\"token number\">3</span> pair of shoes £<span class=\"token number\">30</span> P value<span class=\"token operator\">=</span><span class=\"token number\">2.31e-14</span> <span class=\"token number\">30</span> <span class=\"token number\">0.25</span> pair of shoes £<span class=\"token number\">30</span> <span class=\"token number\">5</span>Days\n<span class=\"token number\">4</span> pair of shoes £<span class=\"token number\">60</span> P value<span class=\"token operator\">=</span><span class=\"token number\">6.64e-18</span> <span class=\"token number\">30</span> <span class=\"token number\">0.25</span> pair of shoes £<span class=\"token number\">60</span> <span class=\"token number\">5</span>Days\n<span class=\"token number\">5</span>      speaker £<span class=\"token number\">150</span> P value<span class=\"token operator\">=</span><span class=\"token number\">3.51e-16</span> <span class=\"token number\">30</span> <span class=\"token number\">0.25</span>      speaker £<span class=\"token number\">150</span> <span class=\"token number\">5</span>Days\n<span class=\"token number\">6</span>       speaker £<span class=\"token number\">30</span> P value<span class=\"token operator\">=</span><span class=\"token number\">1.06e-17</span> <span class=\"token number\">30</span> <span class=\"token number\">0.25</span>       speaker £<span class=\"token number\">30</span> <span class=\"token number\">5</span>Days\n<span class=\"token operator\">></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">p <span class=\"token operator\">&lt;-</span> ggplot<span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x<span class=\"token operator\">=</span>discount<span class=\"token punctuation\">,</span> y<span class=\"token operator\">=</span>cumFraction<span class=\"token punctuation\">,</span> group<span class=\"token operator\">=</span>Days<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n     geom_line<span class=\"token punctuation\">(</span>aes<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span>Days<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">=</span><span class=\"token number\">1.2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n     geom_text<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span>pValues<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x<span class=\"token operator\">=</span>x<span class=\"token punctuation\">,</span> y<span class=\"token operator\">=</span>y<span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span>showPvalue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>\n     facet_wrap<span class=\"token punctuation\">(</span><span class=\"token operator\">~</span>newGroup<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n     scale_color_manual<span class=\"token punctuation\">(</span>values<span class=\"token operator\">=</span>c<span class=\"token punctuation\">(</span><span class=\"token string\">\"#6c6c6c\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"#4ab7ff\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"#ff0200\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n     labs<span class=\"token punctuation\">(</span> x<span class=\"token operator\">=</span><span class=\"token string\">\"Discount\"</span><span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> <span class=\"token string\">\"Willingness to Accept\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n     theme_bw<span class=\"token punctuation\">(</span>base_size<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n     theme<span class=\"token punctuation\">(</span>legend.position<span class=\"token operator\">=</span><span class=\"token string\">\"top\"</span><span class=\"token punctuation\">,</span> legend.title<span class=\"token operator\">=</span>element_blank<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Below is a code to print it into a PDF</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">pdf<span class=\"token punctuation\">(</span><span class=\"token string\">\"DeliveryTimeInOnePlot.pdf\"</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">=</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span>\nprint<span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span>\ndev.off<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"date":"July 04, 2022","slug":"/notes/Complex-ggplot2:-Line-Plot","title":"Complex ggplot2: Line Plot","tags":["R","ggplot2"],"abstract":"Here are some nice plot I draw with ggplot2, for copy and paste in the future"}}},"pageContext":{"slug":"/notes/Complex-ggplot2:-Line-Plot"}},
    "staticQueryHashes": ["63159454"]}