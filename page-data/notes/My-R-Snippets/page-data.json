{
    "componentChunkName": "component---src-templates-note-template-js",
    "path": "/notes/My-R-Snippets",
    "result": {"data":{"markdownRemark":{"html":"<h2>Split string with multiple spliter</h2>\n<p>Just change/add splitted in <code class=\"language-text\">\\[spliter]</code></p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">strsplit<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\\\\/|\\\\_| \"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>\"Multiple\" two vectors into data.frame</h2>\n<p><code class=\"language-text\">outer</code> function is really cool. It can form two vectors into a dataframe.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token operator\">></span> A <span class=\"token operator\">&lt;-</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">5</span>\n<span class=\"token operator\">></span> B <span class=\"token operator\">&lt;-</span> c<span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"B\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"C\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"E\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">></span> A\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">5</span>\n<span class=\"token operator\">></span> B\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"A\"</span> <span class=\"token string\">\"B\"</span> <span class=\"token string\">\"C\"</span> <span class=\"token string\">\"D\"</span> <span class=\"token string\">\"E\"</span>\n<span class=\"token operator\">></span> outer<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">,</span> B<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">)</span> paste0<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"1A\"</span> <span class=\"token string\">\"1B\"</span> <span class=\"token string\">\"1C\"</span> <span class=\"token string\">\"1D\"</span> <span class=\"token string\">\"1E\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"2A\"</span> <span class=\"token string\">\"2B\"</span> <span class=\"token string\">\"2C\"</span> <span class=\"token string\">\"2D\"</span> <span class=\"token string\">\"2E\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"3A\"</span> <span class=\"token string\">\"3B\"</span> <span class=\"token string\">\"3C\"</span> <span class=\"token string\">\"3D\"</span> <span class=\"token string\">\"3E\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"4A\"</span> <span class=\"token string\">\"4B\"</span> <span class=\"token string\">\"4C\"</span> <span class=\"token string\">\"4D\"</span> <span class=\"token string\">\"4E\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"5A\"</span> <span class=\"token string\">\"5B\"</span> <span class=\"token string\">\"5C\"</span> <span class=\"token string\">\"5D\"</span> <span class=\"token string\">\"5E\"</span>\n<span class=\"token operator\">></span></code></pre></div>\n<h2>Remove outliers for ggplot2 boxplot</h2>\n<p>I am suprised that there is no simple way to remove outliers from data.frame for ggplot2. So I wrote below <a href=\"https://gist.github.com/YuanTian1991/3ff121238caf4e335dae37e7dc14fd16\">github gist</a> to do this job. A quite simple function.</p>\n<p>The usage is below:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">source<span class=\"token punctuation\">(</span><span class=\"token string\">\"https://gist.githubusercontent.com/YuanTian1991/3ff121238caf4e335dae37e7dc14fd16/raw/c52f4700f8245de9dbf78478402a5523e8620b7e/removeOutlier.R\"</span><span class=\"token punctuation\">)</span>\n\nnewDF <span class=\"token operator\">&lt;-</span> removeOutlier<span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Methylation\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Group\"</span><span class=\"token punctuation\">)</span>\n\nlibrary<span class=\"token punctuation\">(</span><span class=\"token string\">\"ggplot2\"</span><span class=\"token punctuation\">)</span>\n\nggplot<span class=\"token punctuation\">(</span>data <span class=\"token operator\">=</span> newDF<span class=\"token punctuation\">,</span> mapping <span class=\"token operator\">=</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> Group<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> Methylation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n    geom_line<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Store system output as Variable</h2>\n<p>Jsut set parameter <code class=\"language-text\">intern</code> = TRUE works. Importantly, here I am using xargs command, to parse a pipe result into a set of command.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token operator\">></span> system<span class=\"token punctuation\">(</span><span class=\"token string\">\"bs list projects --template='{{.Name}}' | xargs -I % sh -c \\\"bs get project property -n '%' --terse\\\"\"</span><span class=\"token punctuation\">,</span> intern <span class=\"token operator\">=</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"47639625\"</span>  <span class=\"token string\">\"51883832\"</span>  <span class=\"token string\">\"105426321\"</span> <span class=\"token string\">\"140324187\"</span> <span class=\"token string\">\"142581440\"</span> <span class=\"token string\">\"146425284\"</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"148976842\"</span> <span class=\"token string\">\"160653503\"</span> <span class=\"token string\">\"164725561\"</span> <span class=\"token string\">\"166285132\"</span> <span class=\"token string\">\"169014854\"</span> <span class=\"token string\">\"184223040\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">13</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"184524340\"</span> <span class=\"token string\">\"185048864\"</span> <span class=\"token string\">\"193621447\"</span> <span class=\"token string\">\"193627451\"</span> <span class=\"token string\">\"257187934\"</span> <span class=\"token string\">\"345541198\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">19</span><span class=\"token punctuation\">]</span> <span class=\"token string\">\"346771432\"</span>\n<span class=\"token operator\">></span></code></pre></div>\n<p>Importantly, below is a command to parse a long character into commands</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">system<span class=\"token punctuation\">(</span><span class=\"token string\">\"echo 'AAA\\nBBB' | xargs -I % sh -c \\\"bs get project property -n '%' --terse\\\"\"</span><span class=\"token punctuation\">,</span> intern <span class=\"token operator\">=</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"date":"July 01, 2022","slug":"/notes/My-R-Snippets","title":"My R Snippets","tags":["R"],"abstract":"Pieces of R code I may need to copy-paste in future work."}}},"pageContext":{"slug":"/notes/My-R-Snippets"}},
    "staticQueryHashes": ["63159454"]}