{"componentChunkName":"component---src-templates-note-template-js","path":"/notes/Update-Bioconductor-package-via-git","result":{"data":{"markdownRemark":{"html":"<h2>1. Clone the Master code</h2>\n<p>Use the command to get latest package, which should be online.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git clone https://github.com/YuanTian1991/&lt;YOUR-REPOSITORY&gt;.git</code></pre></div>\n<p>Then, link the package upstream to Bioconductor, then after your modification, you can push your code to Bioconductor.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git remote add upstream git@git.bioconductor.org:packages/&lt;YOUR-REPOSITORY&gt;.git</code></pre></div>\n<h2>2. Add remote upstream</h2>\n<p>Then we may use <code class=\"language-text\">git remote</code> command to check:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">tianyuan@tianyuan-ThinkPad-X240:~/Work/ChAMP-Issue/Updates/ChAMP$ git remote -v\norigin\thttps://github.com/YuanTian1991/ChAMP.git (fetch)\norigin\thttps://github.com/YuanTian1991/ChAMP.git (push)\nupstream\tgit@git.bioconductor.org:packages/ChAMP.git (fetch)\nupstream\tgit@git.bioconductor.org:packages/ChAMP.git (push) </code></pre></div>\n<p>Above print shows the package has been successfully linked to Bioconductor, thus we may push upstream to it latter.</p>\n<h2>3. Check and Merge version.</h2>\n<p>In many cases, I have not modify code for quite a long time, while Bioconductor version goes up as 3.6, 3.7, 3.8... each updating on Bioconductor would bump a version up. For exmaple, my current version if 2.11.5, while Bioconductor 3.9 (master) is already 2.13.0. In this case, I need to <code class=\"language-text\">fetch</code> latest upstream code from Bioconductor, to make sure my code is latest with Bioconductor:</p>\n<p>Say we are going to modify <code class=\"language-text\">master</code> verison first:</p>\n<ol>\n<li>\n<p>Make sure you are on the appropriate branch.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git checkout master</code></pre></div>\n</li>\n<li>\n<p>Fetch content from Bioconductor</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git fetch upstream</code></pre></div>\n</li>\n<li>\n<p>Merge upstream with the appropriate local branch</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git merge upstream/master</code></pre></div>\n<p>Push changes to GitHubâ€™s (origin) master branch</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git push origin master</code></pre></div>\n<p>After doing this, my git repo (master branch) has the same version as Bioconductor, then we can continue our development.</p>\n</li>\n</ol>\n<h2>4. Modify the Code.</h2>\n<p>Personally, I already modify code in another version, because latter we need to change two version online here: Bioconductor development version, and current version. They will be switched by checkout command.</p>\n<h2>5. Push online for Master branch</h2>\n<p>Say now we are in master branch. I normally git one version down and remove the .git folder, and do modification on it. Say it's in a folder called \"modified\". After modification, I can directly copy the whole documents to the master branch, then <code class=\"language-text\">git add .</code>, <code class=\"language-text\">git commit -m &quot;...&quot;</code>, then firstly push to my github:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git push origin master</code></pre></div>\n<p>Then push upstream to Bioconductor:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git push upstream master</code></pre></div>\n<h2>6. push online for current version</h2>\n<p>Here we need to see if you have already current version exist in your github. For example, if you missed current version (RESEASE<em>3</em>8), you need to use below code to create a local version from Bioconductor:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git checkout -b RELEASE_3_8 upstream/RELEASE_3_8</code></pre></div>\n<p>Or, if you have, you can directly checkout to RELEASE<em>3</em>8 as</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git checkout RELEASE_3_8</code></pre></div>\n<p>Again, copy files in modified to cover local file. Then push up to RELEASE<em>3</em>8:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git push origin RELEASE_3_8</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git push upstream RELEASE_3_8</code></pre></div>\n<p>That's it, all fixed.</p>","frontmatter":{"date":"September 13, 2020","slug":"/notes/Update-Bioconductor-package-via-git","title":"Update Bioconductor package via git","abstract":"Since I am maintaining ChAMP, constantly I need to update some programs, add features and similar staff. I have been using new git-based Bioconductor system for a while, here I am just record some codes for check."}}},"pageContext":{"slug":"/notes/Update-Bioconductor-package-via-git"}}}