{
    "componentChunkName": "component---src-templates-note-template-js",
    "path": "/notes/R-Pacakge-corrplot-for-Correlation-Plotting",
    "result": {"data":{"markdownRemark":{"html":"<p>Recently I get a small task to draw a correlation plot between various of variables. After some search, a very good package called <a href=\"https://cran.r-project.org/web/packages/corrplot/index.html\">corrplot</a> went into my eye, which is so easy to use and so useful.</p>\n<p>Though I guess the origin purpose of this package is to create nice \"correlation plots\" between variables, which means the correlation score should be between -1 to 1. However, the author also allow uses to plot random matrix, without limitation of \"correlation value\".</p>\n<p>So below made some test:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">> data &lt;- matrix(sample(1:200,replace=T),10,10)\n> rownames(data) &lt;- paste(\"row\",1:10,sep=\"_\")\n> colnames(data) &lt;- paste(\"col\",1:10,sep=\"_\")</code></pre></div>\n<p>Above I generated some random number between 1 to 200, because I find on the internet many people are using it for only positive number plotting.</p>\n<p>Then I can use <strong>library corrplot and RColorBrewer</strong> to generate really nice plot in one shot:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">corrplot<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> method<span class=\"token operator\">=</span><span class=\"token string\">\"circle\"</span><span class=\"token punctuation\">,</span>is.corr<span class=\"token operator\">=</span><span class=\"token boolean\">FALSE</span><span class=\"token punctuation\">,</span>tl.col<span class=\"token operator\">=</span><span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span> tl.srt<span class=\"token operator\">=</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span> col<span class=\"token operator\">=</span>colorRampPalette<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">(</span><span class=\"token string\">\"green\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"white\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"firebrick1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"dodgerblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9028468b87ae5c0eafd4772a2c4e0a08/8079d/figure1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD8ElEQVQ4y5WUyXNiVRTG+w906dYqF650b9l2uXFhu3GhrbbVrfaU2G3ml4YECJkgCUMIYR4DAUIYH2/kwSMBftaDpEncWJ6qU3XfOfd+9/vqnfs9ABiPx5O8u/6/eXv2wbQwAxqNuZfjaXNyYFIbffhkNLoBHI0ZWQ3gwbR1s8OKoQFXXegrjHsK/as+Ws9A0XVGpsZwoHM9MJBVjX5fxxwYdPtd+oY+Af3A8MrsUZNMftpV+PNI5WevxhO/SWI/hlIooVVrzB20Wd6v4j2pQV/l0F8idJQj6kngiEtIsjoDNHSV/KXGwxWZ7zcVHtl0vnIMCK/5aIYzXCZLPFpq88tqBYf3EnSJZSHDthAlsOrnx40KkqJNAa1Q9S6mJILXBYkwhAL0nW66ji2WhAzfCiLfvSmgqwYoHfzP3vPCVuZ4JwU7bl45CijKHYa6rlG7bLOwlKRXLKEmsiRtR2Aa9NI5zlwBPl0fs27LUDxKQruGeHBMeTeETwiyLEQQxc4dyUaXdlPCvZHCSGXJBvO8XkyTr/WohTOUt/w8iYHPFSe7F+W0oHPl85HeifDHuyTOFR+ypNyVrNNTZEhHEN1e3q5l+dgBjxeqzC2mOXQmplOQT3DmifKJAKp7H/dWjs9XDTxvt5A70gxQ6+pIjTbJFQ9ms8VAklGLFcilyXui+Dcj06m6qCBG0tj+CpB1Bck6A8SWdjmetyPdSraiaxhoYoembYeriwtGjTrD83PM8Cmb7gJPN+qIibPJZb16k3KiTMYZZNce5/VSmtTLReTOHUBN11GaLVpOD2YsziCZon8aoen08Lv9gi8dJidzLrRGh6FhQL9Lwhnina3AN6si589eotxKtp7UoKcRrxp89A7WhSSe1WP2Vo5J2/1sCnFeLOd5OF+jHC1C7QKGJnsbcVLOELpgp/HbMzTpBtDiqGsqoqxz2oJWNIeaKdKt1mluH9HaD9I8DFOURsgncST/KWeeGI/tMm82KyTXPLSfP8dQ1ZlkRVHQZJlR34SzPN1ihcqliubx0fSGqB5F0c0hHV+YS7eP0JqfH1wqc84q4RUv4vz8jOH0p3QRa012X+1BJETQk+OLRY2WbZtfNxp8ZoOn8ylCQoC07ZC9tRMk2xYd1z5VwY0krNG1GFpg19dDVE2lUW2yvRCg7jrALUT4eqXDVfAYPRSh7gmx8HcUMZZjWCphnFcYNRuUoue45g/o2N+jSvIU0LIdc2CiKzrJYIFOPEcqXGY90uW6VILqxWSEQsEKRr3FWJYYKorlKIhVkZgvj5ZJM761r/+K0X3HnKzHN/V7Ncux/237FlvrJsuNh6Mbt/7QG88c/F59ZuP/AIJ/sWnUbNvqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"Alt text\"\n        src=\"/static/9028468b87ae5c0eafd4772a2c4e0a08/00d43/figure1.png\"\n        srcset=\"/static/9028468b87ae5c0eafd4772a2c4e0a08/63868/figure1.png 250w,\n/static/9028468b87ae5c0eafd4772a2c4e0a08/0b533/figure1.png 500w,\n/static/9028468b87ae5c0eafd4772a2c4e0a08/00d43/figure1.png 1000w,\n/static/9028468b87ae5c0eafd4772a2c4e0a08/aa440/figure1.png 1500w,\n/static/9028468b87ae5c0eafd4772a2c4e0a08/e8950/figure1.png 2000w,\n/static/9028468b87ae5c0eafd4772a2c4e0a08/8079d/figure1.png 2100w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>Note that the right legend label contains actually 4 color but here I only use the last two:  \"firebrick1\",\"dodgerblue\". Seems corrplot can only generate color from negative value to positive, thus if I only assign two color, only one could be seen. Thus I use 4 colors here so that only the last two works, which is exactly what I want.</p>\n</blockquote>\n<p>Then we can change other format:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">corrplot<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> method<span class=\"token operator\">=</span><span class=\"token string\">\"pie\"</span><span class=\"token punctuation\">,</span>is.corr<span class=\"token operator\">=</span><span class=\"token boolean\">FALSE</span><span class=\"token punctuation\">,</span>tl.col<span class=\"token operator\">=</span><span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span> tl.srt<span class=\"token operator\">=</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span> col<span class=\"token operator\">=</span>colorRampPalette<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">(</span><span class=\"token string\">\"green\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"white\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"firebrick1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"dodgerblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0d7f12b8ab1def2fe6173fa6a9a7946d/8079d/figure2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD9ElEQVQ4y5WU/09aVxjG/SP3+7b/YPtpWZasy5Kl3ZI1WbbUrC3V1jqsglKrFLxWRbwCKnAvCChYQEXwgvf7BdECnwaoxW7Lkr3Jm3PO+57znOd9T84zBtDr9QZ+e/5//ebs2DAwAur2+MQZ+GDDh9hw/+jy4djtdgexsQ8pPlq3BddNem2TXsvAaTnYrSZms0nnyua67XB91cS0bJymRaufb9q0W84AdOyG2VX7knPV5uH6GdNilUebNVwxnYKcpyJnUWSZ2VCJ1ViZzd0SzeoJsvQWWSoibe+zlGigG9ao5KZtcVTR+PZJlnszB9yZzvPDUp3Y/DpH4Ti14il3nh/yuzuF73UGTJU5zy6vfTusPH7F/ZcldNMeAvbNNE3a7RaIq3R2Rd7Fo2jCKvWAwNR4gLuet/w6JVM9VcBssD2xyKOJLbaiJdTlJSY9MobtjAAty6RRV1kOZqll8pi5HJJfRC+XUQtF4tOv+PxJGXGnRDqcwpQTFASRcjCE6N9hZnYHVdVHPWw2HRRFZf5hAPWgQDaWwTWxRfnkAq3WIC9sMS5aiME40WeL5CoWTiZDYtY/YOqfE9F143bJFi3HgaMsyloI17jAF/Mmd117uL0JhIUo0IZGFdnj58vnNVQphW9S4GtPlZBbQFe1T3tomSb7wQhKNo9dq1E/PMJMpQbs1l9GcUyDy2qV83iSgG+H9NouubUdYrMCEdcCunYL0LZtHMfh8C8fWlLmspDH3t/n8vCQeU+M8YUcF4dFtPIpF29LyKs7pIUIyzMhnj4TSbteYPyDoW1z9iaMIaewDw6x8nkqK+s8mNrl3qZNYi7IqXzApXJO1zHIhfZwTUX5cbZI8c+JEWD/S121HLLHGp9NKqwKaUKLMUKLUeTANkvuEJMeie8ep8inS7TSMtdag62lCPENmbNZL2f3f8M2jNslWzQudKRjh1JUohhY50TKUAyG2PcGyXoDJNKnqIUS1c0IxXiO759IeEInSPMCtT8e0LKsEaBhGIMb3pkG7XIJbT+Dojlc7CUphyJUd5M0NQ3tqMzBvJ/w7Bt+njvCHSywPrmM8nQKS9c/fZR+H1efrmAlk4S9G3zjrXK+IfLLgy2+eqnyaDrO3ppE4kUAYS5M5c0mleUVcl4/dfcMTdseqk3nXWfAUFM1Au4NjrcTvHq+xk++Y+qhMFVhjfKywPzMNnkxiSKKnMbiaJks5UQG/zMBZcGHZehDwL7stK/a2KZNfHMfJVNgbyPF4m6DK12no15weVYhLEgYigYth07/E7RbKKd1IqsSZi7bBxqV/F/W+5f1je7ejvXFd+zvst9nezN2uh/k/SbX6X5cD9FGZ27Q3wNMnaLGLTbYQgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"Alt text\"\n        src=\"/static/0d7f12b8ab1def2fe6173fa6a9a7946d/00d43/figure2.png\"\n        srcset=\"/static/0d7f12b8ab1def2fe6173fa6a9a7946d/63868/figure2.png 250w,\n/static/0d7f12b8ab1def2fe6173fa6a9a7946d/0b533/figure2.png 500w,\n/static/0d7f12b8ab1def2fe6173fa6a9a7946d/00d43/figure2.png 1000w,\n/static/0d7f12b8ab1def2fe6173fa6a9a7946d/aa440/figure2.png 1500w,\n/static/0d7f12b8ab1def2fe6173fa6a9a7946d/e8950/figure2.png 2000w,\n/static/0d7f12b8ab1def2fe6173fa6a9a7946d/8079d/figure2.png 2100w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Above code generate pie plot inside each cell, which is nice but I think it's more suitable for correlation plots.</p>\n<p>And the last one:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">corrplot<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> method<span class=\"token operator\">=</span><span class=\"token string\">\"number\"</span><span class=\"token punctuation\">,</span>is.corr<span class=\"token operator\">=</span><span class=\"token boolean\">FALSE</span><span class=\"token punctuation\">,</span>tl.col<span class=\"token operator\">=</span><span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span> tl.srt<span class=\"token operator\">=</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span>addCoef.col <span class=\"token operator\">=</span> <span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">,</span>  col<span class=\"token operator\">=</span>colorRampPalette<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">(</span><span class=\"token string\">\"green\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"white\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"firebrick1\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">'gray'</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"dodgerblue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/84df48466362a291f7b11dd49055c7d2/8079d/figure3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACyElEQVQ4y51UPa/cNhB8/79K5z6VkcaN4RRBYBexHQQIYiAGXCRAUjzYyLt7Eskl94OUNMGu7nx3dpUQWJEUydHs7Ih3ALBtW8T1+L/G+ezdl0D/t63rGv3dGezcuFXUSig5ReScI1LOp3lCJUIuBSnNsTbPE6RRgH5myMxQNRwzYyqMQ2p4SA2ZagC0UnDMDTMx5lwhKSGVBqoND1PB979PmFO+AOaUYnHmFZkHprbgQAOsBhXFEMFjW0Ay0LhjqwTiDrGBYxZ888NHzJkugKWUYLKZYLSGIYwuDDMDSUfiBaQLBhGWSmh9IHMHi6FSw7c/3SNdA6aUUAqh6AKrFcaMpoaFCjozTAQPtIDYwKxYW4OKoJvhsTC+e/0Xjo/TBZCIUGtFE4vDnqYz0MpQFqgqCo8AE1ZwU5gqzDoOWfD85z9vNYyUa8XaKtQMVQc+0YokK4oMVOnA0jGCreKfuqGrQm3gfjb8+MsHTHO6KorbohToWNBLwSCPHHoJCyorlpLRXY7GINfO2aqhEOHNr+8xzfPXKVvvoVno1lqk5TIU7uiu2WnNZRAxiHXMhfHut3eYrwHPBh4q6K2iOxgRRBWpWVhIzIJdVJoKGms44NMkeP/2LdINw+IbJLTxTVX38JSaj6VjljWYuSdXz+jEUGvBh5cvw8s3DD1tE4tDzsSoRnW94t7HO5GQwfek1sOblAv+ePEifHzjQ//CqorObU+5UHgt7KGGQXW3lBpEO1IbO2Aq+PvZM+TrlL3CURgdAaZiONQlmLkfD3VFch9+lmHATNHHQJtn3D99iprzftssyxIVyrmEVhw2ETzWsf81zpY5Kq1tZx/ha2ZIx4SPT54gT9MO6NeOyP43uFHd/R7NljDvsD2kj30e7wyL986QGtKrV87skvKlbTdxPftyvl3dpf5c/cb+6tq/2Xx6nGLD7RxXt/15/C9ypxD75vZdygAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alt text\"\n        title=\"Alt text\"\n        src=\"/static/84df48466362a291f7b11dd49055c7d2/00d43/figure3.png\"\n        srcset=\"/static/84df48466362a291f7b11dd49055c7d2/63868/figure3.png 250w,\n/static/84df48466362a291f7b11dd49055c7d2/0b533/figure3.png 500w,\n/static/84df48466362a291f7b11dd49055c7d2/00d43/figure3.png 1000w,\n/static/84df48466362a291f7b11dd49055c7d2/aa440/figure3.png 1500w,\n/static/84df48466362a291f7b11dd49055c7d2/e8950/figure3.png 2000w,\n/static/84df48466362a291f7b11dd49055c7d2/8079d/figure3.png 2100w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>This figure prints all number in corresponding significant color, which is what I like most as well.</p>","frontmatter":{"date":"September 08, 2020","slug":"/notes/R-Pacakge-corrplot-for-Correlation-Plotting","title":"R Pacakge corrplot for Correlation Plotting","tags":["R Package","Correlation"],"abstract":"A nice R pacakge to draw correlation plot, I should organize a good script for long time easy use."}}},"pageContext":{"slug":"/notes/R-Pacakge-corrplot-for-Correlation-Plotting"}},
    "staticQueryHashes": []}