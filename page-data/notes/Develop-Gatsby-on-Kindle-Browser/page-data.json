{
    "componentChunkName": "component---src-templates-note-template-js",
    "path": "/notes/Develop-Gatsby-on-Kindle-Browser",
    "result": {"data":{"markdownRemark":{"html":"<p>What I want to do is find a way for me to develop kindle browser, I previously tested <a href=\"https://yuantian1991.github.io/notes/Kindle-Browser-access-Gatsby-and-React-Github-page\">Gatsby website works for Kindle Browser</a>, not I want to find a way to develop on it. Normally when we do website development, we open the editors like VScode, then whenever we save the code after done some modification, the web page would be refreshed. Sadly, Kindle Browser can't do it automatically. After searching a bit, I found a way that I can open Mac's port, and use Nginx as proxy, to allow Kindle to access 80 port on my Mac.</p>\n<h2>1. Open firewall and find your IP address</h2>\n<p>Firstly I need to open the firewall for Mac, which is located in <code class=\"language-text\">Security &amp; Privary</code> of system setting. There is a firewall option, which could be openned. Also, you should be able to see <strong>your IP address</strong>âˆ‚ in <code class=\"language-text\">Network</code> of system setting.</p>\n<h2>2. Configure Nginx</h2>\n<p>I installed nginx (which may have been pre-installed). I know there are many artical online who use homebrewer to install Nginx, but I don't know why it's not working for me. On the contrary, the system included a nginx, located in /usr/local/bin/nginx, which works for me. So I did not install it actually.</p>\n<p>Start nginx with below code, it would inform you that it's openned.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo nginx</code></pre></div>\n<p>Secondly, I need to modify the nginx file, which is located in /usr/local/etc/nginx/nginx.conf, just modify the <code class=\"language-text\">proxy_pass</code>, change it to your own website localhost port, nothing else should be changed:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">...\n    server {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            proxy_pass   http://127.0.0.1:9000; # Just change here to the port.\n        }\n...</code></pre></div>\n<p>Then reload Nginx as:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> nginx <span class=\"token parameter variable\">-s</span> reload</code></pre></div>\n<p>Finally we can check nginx status, to make sure it's working properly on Mac. It should returns you a lot of things, but if nginx is not working, it should return an error.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://your.ip.address</code></pre></div>\n<p>To stop nginx, use below command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> nginx <span class=\"token parameter variable\">-s</span> stop</code></pre></div>\n<h2>3. Gatsby website need to be build and served</h2>\n<p>Above are settings for nginx. After setting above. Now I need to make Gatsby works, I found that after my coding, the way to make Kindle Browser work is to firstly build the website, with command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">gatsby build</code></pre></div>\n<p>Then serve it with command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gatsby serve</code></pre></div>\n<p>This is the most simple way to serve a Gatsby website, surely you can set up a backend like Express, but this is easier but indeed works. Then the website would be served in localhost:9000. That's why previously I set nginx config as 9000. Now your mobile phone or kindle browser should be able to access <a href=\"http://your.ip.adress\">http://your.ip.adress</a>. to check the result.</p>\n<p>So still it's not very convinient, but after some coding, I can build and serve it a bit, then use Kindle to check if things work on Kindle.</p>","frontmatter":{"date":"February 19, 2021","slug":"/notes/Develop-Gatsby-on-Kindle-Browser","title":"Develop Gatsby on Kindle Browser","tags":["Kindle","Gatsby"],"abstract":"Previously I have tested that Gatsby works for Kindle. Now the problem is how can I develop it? I do not want to deploy my code on Github page everytime. Finally I found Gatsby Serve works for Kindle."}}},"pageContext":{"slug":"/notes/Develop-Gatsby-on-Kindle-Browser"}},
    "staticQueryHashes": ["63159454"]}