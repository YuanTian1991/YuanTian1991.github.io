{
    "componentChunkName": "component---src-templates-note-template-js",
    "path": "/notes/Connect-S3-with-AWS-CLI",
    "result": {"data":{"markdownRemark":{"html":"<p>I am about to create a uploading tool, to upload files from user's browser to S3, which is so hard. I am using <a href=\"https://uppy.io/\">uppy.js</a>, which from my point of view, does not have a good document to guild me through. However, now I want to connect to AWS S3, which is where our files eventually need to be transfered.</p>\n<h2>Install AWS CLI</h2>\n<p>Firstly thing is to install <a href=\"https://aws.amazon.com/cli/\">AWS CLI</a>. This is a tool that need to be installed on my local computer. So I choosed Mac version.</p>\n<h2>Configure AWS CLI</h2>\n<p>Then AWS CLI need to be <strong>configured</strong>, in short, input your credential information, to tell AWS who you are and what access they should give you. Start the terminal, then type <code class=\"language-text\">aws configure</code>, it should work. I have only the ID and Secret Key provided by my friends, which is already enough, so I left the rest two empty.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">></span> aws configure\nAWS Access Key ID <span class=\"token punctuation\">[</span>None<span class=\"token punctuation\">]</span>: AAAAAAAAAAAAA\nAWS Secret Access Key <span class=\"token punctuation\">[</span>None<span class=\"token punctuation\">]</span>: XXXXXXXXXXXXXXXXXXX\nDefault region name <span class=\"token punctuation\">[</span>None<span class=\"token punctuation\">]</span>:\nDefault output <span class=\"token function\">format</span> <span class=\"token punctuation\">[</span>None<span class=\"token punctuation\">]</span>:</code></pre></div>\n<h2>Show all S3 Buckets</h2>\n<p>Now we can try connect the S3 bucket, below command would tell me what bucket we have, and I have access to:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">aws s3 <span class=\"token function\">ls</span></code></pre></div>\n<h2>View one S3 Bucket</h2>\n<p>Then I can view one bucket as:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">aws s3 <span class=\"token function\">ls</span> s3://some-bucket-name</code></pre></div>\n<p>Then I can see something labelled <code class=\"language-text\">PRE</code> and something labelled time. So the <code class=\"language-text\">PRE</code> should means folder, and things labelled time should means files uploaded.</p>\n<h2>Upload file to a S3 Bucket</h2>\n<p>I created a file in my current computer folder called <code class=\"language-text\">TestFile_Tian.txt</code>, trying to upload it to a bucket:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">aws s3 <span class=\"token function\">cp</span> TestFile_Tian.txt s3://some-bucket-name</code></pre></div>\n<p>It worked, so I can see this file on this bucket:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">aws s3 <span class=\"token function\">ls</span> s3://some-bucket-name\n                           PRE vcf/\n<span class=\"token number\">2020</span>-12-13 00:03:00         <span class=\"token number\">21</span> TestFile_Tian.txt</code></pre></div>\n<p>I did not test how to upload a folder there.</p>\n<h2>Delete file from a S3 Bucket</h2>\n<p>Finally, I want to try delete the file I just uploaded:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">aws s3 <span class=\"token function\">rm</span> s3://some-bucket-name/TestFile_Tian.txt</code></pre></div>\n<p>Then the file is deleted.</p>\n<hr>\n<p>Here is just a simply record of my first experience with S3, (and AWS).</p>\n<h2>Delete files in one folder (prefix) and the folder itself</h2>\n<p>A command to delete a folder in a S3 bucket</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">aws s3 <span class=\"token function\">rm</span> s3://some-bucket-name --recursive --exclude<span class=\"token operator\">=</span><span class=\"token string\">\"*\"</span> --include<span class=\"token operator\">=</span><span class=\"token string\">\"somefolder/*.*\"</span></code></pre></div>","frontmatter":{"date":"December 13, 2020","slug":"/notes/Connect-S3-with-AWS-CLI","title":"Connect S3 with AWS CLI","tags":["aws","S3"],"abstract":"Firs time doing things related to AWS. I never use anything related to AWS because I do not want to pay any money to it. Thanks for my friends, now I have a chance to get to know this famous cloud service provider."}}},"pageContext":{"slug":"/notes/Connect-S3-with-AWS-CLI"}},
    "staticQueryHashes": ["63159454"]}